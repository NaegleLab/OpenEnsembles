
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenEnsembles &#8212; OpenEnsembles 1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Supporting Code" href="Supporting.html" />
    <link rel="prev" title="OpenEnsembles" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Supporting.html" title="Supporting Code"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="OpenEnsembles"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenEnsembles 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OpenEnsembles</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-openensembles">
<span id="openensembles"></span><h1>OpenEnsembles<a class="headerlink" href="#module-openensembles" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-data-class">
<h2>The “data” class<a class="headerlink" href="#the-data-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="openensembles.data">
<em class="property">class </em><code class="sig-prename descclassname">openensembles.</code><code class="sig-name descname">data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.data" title="Permalink to this definition">¶</a></dt>
<dd><p>df is a dataframe and x is the x_axis values (or numbers indicating the
number entry). Behavior: Only numerical data in df will be carried into a numpy array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">a pandas dataframe</span></dt><dd><p>Dataframe with objects in rows and columns representing the feature dimensions</p>
</dd>
<dt><strong>x</strong><span class="classifier">list</span></dt><dd><p>The x-axis elements. If x is a list of strings, it will be converted here to a list of ints (range 0 to len(x))</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError of the size of x and dimensionality of df do not match</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas dataframe</span></dt><dd><p>the original dataframe</p>
</dd>
<dt><strong>D</strong><span class="classifier">dictionary</span></dt><dd><p>A dictionary of numpy data matrices, callable by ‘source_name’.</p>
</dd>
<dt><strong>x</strong><span class="classifier">list</span></dt><dd><p>a list of integer or float values</p>
</dd>
<dt><strong>x_labels</strong><span class="classifier">list</span></dt><dd><p>a list of strings (if that was passed in) or the int and float. So that xticklabels could be updated or referenced</p>
</dd>
<dt><strong>params: dict</strong></dt><dd><p>A dictionary of parameter labels and their values that were used during transformations</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.data.merge" title="openensembles.data.merge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merge</span></code></a>(d_list)</p></td>
<td><p>Returns an appended object – a merge of the data object (self) and all data objects inside a passed list.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.data.plot_data" title="openensembles.data.plot_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_data</span></code></a>(source_name[, fig_num])</p></td>
<td><p>Plot the data matrix that belongs to source_name</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.data.slice" title="openensembles.data.slice"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice</span></code></a>(names)</p></td>
<td><p>Returns a new data object containing a slice indicated by the list of names given (dictionary keys shared amongst D, params, etc.).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.data.transform" title="openensembles.data.transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transform</span></code></a>(source_name, txfm_fcn, txfm_name, …)</p></td>
<td><p>This runs transform (txfm_fcn) on the data matrix defined by source_name with parameters that are variable for each transform.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.data.transforms_available" title="openensembles.data.transforms_available"><code class="xref py py-obj docutils literal notranslate"><span class="pre">transforms_available</span></code></a>()</p></td>
<td><p>Returns a list of all transformations available</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="openensembles.data.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#data.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.data.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an appended object – a merge of the data object (self) and all data objects inside a passed list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>d_list: list</strong></dt><dd><p>A list of data objects</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>transDictArr: list of dicts</dt><dd><p>A list of dictionary translation of new labels in merged object, with original labels. List order is same as those passed in</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If objects in d_list are not well formed openenembles data objects</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Merge two sets of data objects. Keeps the same dataframe (self.df), i.e. use this when it makes sense
to always use that reference dataframe</p>
<p>FINISH EXAMPLES here</p>
</dd></dl>

<dl class="py method">
<dt id="openensembles.data.plot_data">
<code class="sig-name descname">plot_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_name</span></em>, <em class="sig-param"><span class="n">fig_num</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#data.plot_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.data.plot_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the data matrix that belongs to source_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source_name</strong><span class="classifier">string</span></dt><dd><p>name of data source to plot, e.g. ‘parent’</p>
</dd>
<dt><strong>fig_num: int</strong></dt><dd><p>Set to a different figure number to plot on existing figure. Default fig_num=1</p>
</dd>
<dt><strong>**class_labels</strong><span class="classifier">list of ints</span></dt><dd><p>this is a vector that assigns points to classes, and will be used to color the points according to assigned class type</p>
</dd>
<dt><strong>**clusters_to_plot: list of ints</strong></dt><dd><p>If you wish to plot a subset of cluster types (classes), pass that as a list of ints</p>
</dd>
<dt><strong>**title</strong><span class="classifier">string</span></dt><dd><p>Title for plot</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError:</dt><dd><p>If clusters_to_plot not a set in cluster labels</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="openensembles.data.slice">
<code class="sig-name descname">slice</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#data.slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.data.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new data object containing a slice indicated by the list of names given (dictionary keys shared amongst D, params, etc.).
Cannot remove ‘parent’ as that is the default dataframe matrix that established data object. To replace parent, instead 
instantiate a new object on a dataframe created from transformation of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>names: list</strong></dt><dd><p>A list of strings matching the names to keep in the new slice</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>d: an openensembles data object</dt><dd><p>A oe.data object that contains only those names passed in</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If a name in the list of names does not exist in data object</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Remove ‘zscore’ from the list, keeping everything else</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">names</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">D</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="c1">#get all the keys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">names</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">remove</span><span class="p">([</span><span class="s1">&#39;zscore&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dNew</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.data.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_name</span></em>, <em class="sig-param"><span class="n">txfm_fcn</span></em>, <em class="sig-param"><span class="n">txfm_name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#data.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.data.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>This runs transform (txfm_fcn) on the data matrix defined by
source_name with parameters that are variable for each transform. 
For example, oe.data.transform(‘parent’, ‘zscore’,’zscore_parent’, axis=0) will run the
zscore in a vector-wise manner across the matrix (column-wise) and the new data
dictionary access to the transformed data is oe.data[‘zscore_parent’]
Successful completion results in
the addition of a new entry in the data dictionary with a key according
to txfm_name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source_name: string</strong></dt><dd><p>the name of the source data, for example ‘parent’, or ‘log2’</p>
</dd>
<dt><strong>txfm_fcn: string</strong></dt><dd><p>the name of the transform function. See transforms.py or run oe.data.transforms_available() for list</p>
</dd>
<dt><strong>txfm_name: string</strong></dt><dd><p>the name you want to use in the data object dictionary oe.data.D[‘name’] to access transformed data</p>
</dd>
</dl>
</dd>
<dt class="field-even">Other Parameters</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>**Keep_NaN: boolean</strong></dt><dd><p>Set to True in order to prevent transformations from being added that produce NaNs. 
Default Keep_NaN=True this will add transformed data even if NaNs are produced. Set to 0 to prevent addition of data transforms containing NaNs.</p>
</dd>
<dt><strong>**Keep_Inf: boolean</strong></dt><dd><p>Set to True in order to prevent transformations from being added that produce infinite values
Default: Keep_Inf = True (this will add transformed data even if infinite values are produced. Set to 0 to prevent addition of data transforms conta</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>if the transform function does not exist OR if the data source does not exist by source_name</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>NaNs or infinite values are produced</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openensembles</span> <span class="k">as</span> <span class="nn">oe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">oe</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="s1">&#39;zscore&#39;</span><span class="p">,</span> <span class="s1">&#39;zscore&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;zscore&#39;</span><span class="p">,</span> <span class="s1">&#39;PCA&#39;</span><span class="p">,</span> <span class="s1">&#39;pca&#39;</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.data.transforms_available">
<code class="sig-name descname">transforms_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#data.transforms_available"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.data.transforms_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all transformations available</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-cluster-class">
<h2>The “cluster” class<a class="headerlink" href="#the-cluster-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="openensembles.cluster">
<em class="property">class </em><code class="sig-prename descclassname">openensembles.</code><code class="sig-name descname">cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataObj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a clustering object, which is instantiated with a data object class from OpenEnsembles
When clustering is performed, the dictionaries of all attributes are extended using the key given as output_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataObj</strong></dt><dd><p>openensembles.data class – consists at least of one data matrix called ‘parent’</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>clusterObject</dt><dd><p>empty openensembles.cluster object</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="clustering_algorithms.html#module-openensembles.clustering_algorithms" title="openensembles.clustering_algorithms"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clustering_algorithms</span></code></a></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Load data, zscore it, transform it into the first three principal components and cluster using KMeans with K=4</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">openensembles</span> <span class="k">as</span> <span class="nn">oe</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">oe</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="s1">&#39;zscore&#39;</span><span class="p">,</span> <span class="s1">&#39;zscore&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="s1">&#39;zscore&#39;</span><span class="p">,</span> <span class="s1">&#39;PCA&#39;</span><span class="p">,</span> <span class="s1">&#39;pca&#39;</span><span class="p">,</span> <span class="n">n_components</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">oe</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="s1">&#39;pca&#39;</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">,</span> <span class="s1">&#39;kmeans_pca&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dataObj: openensembles.data class</strong></dt><dd><p>openensembles.data class that was used to instantiate cluster object</p>
</dd>
<dt><strong>labels: dict of lists</strong></dt><dd><p>A dictionary of lists of clustering solutions (ints). Referred to as output_name in .cluster method</p>
</dd>
<dt><strong>data_source: dict of strings</strong></dt><dd><p>Name of data source in dataObj</p>
</dd>
<dt><strong>params: dict of dicts</strong></dt><dd><p>A dictionary of all parameters passed during clustering</p>
</dd>
<dt><strong>clusterNumbers: dict of lists</strong></dt><dd><p>A listing of the unique set of cluster numbers produced in a clustering</p>
</dd>
<dt><strong>random_state: dict of objects</strong></dt><dd><p>A listing of the random state objects that can be used to reset the state and</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.MI" title="openensembles.cluster.MI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MI</span></code></a>([MI_type])</p></td>
<td><p>Calculate the mutual information between all pairs of clustering solutions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.cluster.algorithms_available" title="openensembles.cluster.algorithms_available"><code class="xref py py-obj docutils literal notranslate"><span class="pre">algorithms_available</span></code></a>()</p></td>
<td><p>Call this to list all algorithms currently available in algorithms.py</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.cluster" title="openensembles.cluster.cluster"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cluster</span></code></a>(source_name, algorithm, output_name)</p></td>
<td><p>This runs clustering algorithms on the data matrix defined by source_name with parameters that are variable for each algorithm.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.cluster.clustering_algorithm_parameters" title="openensembles.cluster.clustering_algorithm_parameters"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clustering_algorithm_parameters</span></code></a>()</p></td>
<td><p>This function returns a dictionary with keys equal to parameters of interest {K, linkage, affinity} whose entries indicate algorithms that take those as free parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.co_occurrence_matrix" title="openensembles.cluster.co_occurrence_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">co_occurrence_matrix</span></code></a>([data_source_name])</p></td>
<td><p>Calculate the co-occurrence of all pairs of objects across the ensemble</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.cluster.finish_co_occ_linkage" title="openensembles.cluster.finish_co_occ_linkage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish_co_occ_linkage</span></code></a>(threshold[, linkage])</p></td>
<td><p>The finishing technique that calculates a co-occurrence matrix on all cluster solutions in the ensemble and  then hierarchically clusters the co-occurrence, treating it as a similarity matrix.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.finish_graph_closure" title="openensembles.cluster.finish_graph_closure"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish_graph_closure</span></code></a>(threshold[, clique_size])</p></td>
<td><p>The finishing technique that treats the co-occurrence matrix as a graph, that is binarized by the threshold (&gt;=threshold  becomes an unweighted, undirected edge in an adjacency matrix).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.cluster.finish_majority_vote" title="openensembles.cluster.finish_majority_vote"><code class="xref py py-obj docutils literal notranslate"><span class="pre">finish_majority_vote</span></code></a>([threshold])</p></td>
<td><p>Based on Ana Fred’s 2001 paper: Fred, Ana.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.get_cluster_members" title="openensembles.cluster.get_cluster_members"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_cluster_members</span></code></a>(solution_name, clusterNum)</p></td>
<td><p>Return the dataframe row indexes of a cluster number in solution named by solution_name</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.cluster.merge" title="openensembles.cluster.merge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">merge</span></code></a>(c_list)</p></td>
<td><p>Returns an appended object – a merge of the cluster object (self) and all cluster objects inside a passed list.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.mixture_model" title="openensembles.cluster.mixture_model"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mixture_model</span></code></a>([K, iterations])</p></td>
<td><p>Finishing Technique to assemble a final, hard parition of the data according to maximizing the likelihood according to the observed clustering solutions across the ensemble.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#openensembles.cluster.search_field" title="openensembles.cluster.search_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search_field</span></code></a>(field, value)</p></td>
<td><p>Find solutions that were made with</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.cluster.slice" title="openensembles.cluster.slice"><code class="xref py py-obj docutils literal notranslate"><span class="pre">slice</span></code></a>(names)</p></td>
<td><p>Returns a new cluster object containing a slice indicated by the list of names given (dictionary keys shared amongst labels, params, etc.)</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="openensembles.cluster.MI">
<code class="sig-name descname">MI</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">MI_type</span><span class="o">=</span><span class="default_value">'standard'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.MI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.MI" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mutual information between all pairs of clustering solutions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>MI_type: string {‘standard’, ‘adjusted’, ‘normalized’}</strong></dt><dd><p>The sklearn.metric mutual information to use, either mutual_info, adjusted_mutual_info, or normalized_mutual_info</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>MI class</dt><dd><p>mutualinformation.MI class, where MI.matrix is the claculated matrix of pairwise mutual information. The diagonal is not guaranteed to be 1 (it depends on the type of MI calculated)</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">MI</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">MI</span><span class="p">(</span><span class="n">MI_type</span><span class="o">=</span><span class="s1">&#39;adjusted&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">MI</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">sorted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.algorithms_available">
<code class="sig-name descname">algorithms_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.algorithms_available"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.algorithms_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Call this to list all algorithms currently available in algorithms.py</p>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.cluster">
<code class="sig-name descname">cluster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source_name</span></em>, <em class="sig-param"><span class="n">algorithm</span></em>, <em class="sig-param"><span class="n">output_name</span></em>, <em class="sig-param"><span class="n">K</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Require_Unique</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">random_seed</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.cluster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>This runs clustering algorithms on the data matrix defined by
source_name with parameters that are variable for each algorithm. Note that K is 
required for most algorithms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source_name: string</strong></dt><dd><p>the source data matrix name to operate on in clusterclass dataObj</p>
</dd>
<dt><strong>algorithm: string</strong></dt><dd><p>name of the algorithm to use, see clustering.py or call oe.cluster.algorithms_available()</p>
</dd>
<dt><strong>output_name: string</strong></dt><dd><p>this is the dict key for interacting with the results of this clustering solution in any of the cluster class dictionary attributes</p>
</dd>
<dt><strong>K: int</strong></dt><dd><p>number of clusters to create (ignored for algorithms that define K during clustering). The var_params gets K after, either the parameter passed, or the number of clusters produced
if the K was not passed.</p>
</dd>
<dt><strong>Require_Unique: bool</strong></dt><dd><p>If FALSE and you already have an output_name solution, this will append a number to create a unique name. If TRUE and a 
solution by that name exists, this will not add solution and raise ValueError. Default Require_Unique=False</p>
</dd>
<dt><strong>random_seed: int or random.getstate()</strong></dt><dd><p>Pass a random seed or random seed state (random.getstate()) in order to force the starting point of a clustering algorithm to that state. 
Default is None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>ValueError</dt><dd><p>if data source is not available by source_name</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will warn if the number of clusters is differen than what was requested, typically when an algorithm does not accept K as an argument.</p>
</div>
<p class="rubric">Examples</p>
<p>Cluster using KMeans on parent data</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">oe</span><span class="o">.</span><span class="n">cluster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">,</span><span class="s1">&#39;kmeans_parent&#39;</span><span class="p">,</span> <span class="n">K</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> 
</pre></div>
</div>
<p>Form an iteration to build an ensemble using different values for K</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;kmeans_&#39;</span><span class="o">+</span><span class="n">k</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">c</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="s1">&#39;kmeans&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.clustering_algorithm_parameters">
<code class="sig-name descname">clustering_algorithm_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.clustering_algorithm_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.clustering_algorithm_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns a dictionary with keys equal to parameters of interest {K, linkage, affinity} whose entries
indicate algorithms that take those as free parameters. For example K-means takes K as an argument, but Affinity
Propagation does not, so you will find kmeans is listed in dict[‘K’], but not AffinityPropagation. This is not inclusive of all
paramaters of every algorithm, but the common parameters one might want to vary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>a: dictionary</dt><dd><p>Keys equal to parameters {K, linkages, distances} and values as lists of algorithms that use that key as a variable</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.co_occurrence_matrix">
<code class="sig-name descname">co_occurrence_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_source_name</span><span class="o">=</span><span class="default_value">'parent'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.co_occurrence_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.co_occurrence_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the co-occurrence of all pairs of objects across the ensemble</p>
<p>Parameters:
data_source_name: string</p>
<blockquote>
<div><p>Name of the data source to link to co-occurrence object. Default is ‘parent’</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>coMat class</dt><dd><p>coMat.co_matrix is the NxN matrix, whose entries indicate the number of times the pair of objects in positon (i,j) cluster across the ensemble
of clustering solutions available in clustering object.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coMat</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">co_occurrence_matrix</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coMat</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.finish_co_occ_linkage">
<code class="sig-name descname">finish_co_occ_linkage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span></em>, <em class="sig-param"><span class="n">linkage</span><span class="o">=</span><span class="default_value">'average'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.finish_co_occ_linkage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.finish_co_occ_linkage" title="Permalink to this definition">¶</a></dt>
<dd><p>The finishing technique that calculates a co-occurrence matrix on all cluster solutions in the ensemble and 
then hierarchically clusters the co-occurrence, treating it as a similarity matrix. The clusters are defined by 
the threshold of the distance used to cut.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>threshold: float</strong></dt><dd><p>Linkage distance to use as a cutoff to create partitions</p>
</dd>
<dt><strong>linkage: string</strong></dt><dd><p>Linkage type. See <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html#scipy.cluster.hierarchy.linkage">scipy.cluster.hierarchy</a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>c: openensembles clustering object</dt><dd><p>a new clustering object with c.labels[‘co_occ_linkage’] set to the final solution.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>To determine where the cut is visually, at threshold=0.5:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coMat</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">co_occurrence</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coMat</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">linkage</span><span class="o">=</span><span class="s1">&#39;ward&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To create the cut at threshold=0.5</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cWard</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">co_occ_linkage</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;ward&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">plot_data</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="n">cluster_labels</span><span class="o">=</span><span class="n">cWard</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="s1">&#39;co_occ_linkage&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.finish_graph_closure">
<code class="sig-name descname">finish_graph_closure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span></em>, <em class="sig-param"><span class="n">clique_size</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.finish_graph_closure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.finish_graph_closure" title="Permalink to this definition">¶</a></dt>
<dd><p>The finishing technique that treats the co-occurrence matrix as a graph, that is binarized by the threshold (&gt;=threshold 
becomes an unweighted, undirected edge in an adjacency matrix). This graph object is then subjected to clique formation
according to clique_size (such as triangles if clique_size=3). The cliques are then combined in the graph to create unique
cluster formations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>c: openenembles clustering object</dt><dd><p>New cluster object with final solution and name ‘graph_closure’</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">finishing.py</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cGraph</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">finish_graph_closure</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">plot_data</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="n">cluster_labels</span><span class="o">=</span><span class="n">cGraph</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="s1">&#39;graph_closure&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.finish_majority_vote">
<code class="sig-name descname">finish_majority_vote</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.finish_majority_vote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.finish_majority_vote" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on Ana Fred’s 2001 paper: Fred, Ana. Finding Consistent Clusters in Data Partitions. In Multiple Classifier Systems, 
edited by Josef Kittler and Fabio Roli, LNCS 2096, 309-18. Springer, 2001. 
This algorithm assingns clusters to the same class if they co-cluster at least 50 of the time. It 
greedily joins clusters with the evidence that at least one pair of items from two different clusters co-cluster 
a majority of the time. Outliers will get their own cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>threshold: float</strong></dt><dd><p>the threshold, or fraction of times objects co-cluster to consider a ‘majority’. Default is 0.5 (50% of the time)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>c: openensembles cluster object</dt><dd><p>New cluster object with final solution and name ‘majority_vote’</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c_MV</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">majority_vote</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="n">c_MV</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="s1">&#39;majority_vote&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.get_cluster_members">
<code class="sig-name descname">get_cluster_members</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">solution_name</span></em>, <em class="sig-param"><span class="n">clusterNum</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.get_cluster_members"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.get_cluster_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the dataframe row indexes of a cluster number in solution named by solution_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>solution_name: string</strong></dt><dd><p>the name of the clustering solution of interest</p>
</dd>
<dt><strong>clusterNum: int</strong></dt><dd><p>The cluster number of interest</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>indexes: list</dt><dd><p>a list of indexes of objects with clusterNum in solution_name</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Get a list of objects that belong to each cluster type in a solution</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;zscore_agglomerative_ward&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">cluster</span><span class="p">(</span><span class="s1">&#39;zscore&#39;</span><span class="p">,</span> <span class="s1">&#39;agglomerative&#39;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">K</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">linkage</span><span class="o">=</span><span class="s1">&#39;ward&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">clusterNumbers</span><span class="p">[</span><span class="n">name</span><span class="p">]:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">labels</span><span class="p">{</span><span class="n">i</span><span class="p">}</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get_cluster_members</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an appended object – a merge of the cluster object (self) and all cluster objects inside a passed list. 
This will keep the parent dataobject of the self cluster object. This assumes that the ojbects were instantiated 
and clustered on the same data source (at least the same mxn features)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>c_list: list</strong></dt><dd><p>A list of cluster objects</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>transDictArr: list of dicts</dt><dd><p>A list of dictionary translation of new labels in merged object, with original labels. List order is same as those passed in</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If objects in c_list are not well formed cluster objects</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Merge two sets of clustering objects</p>
<p>FINISH EXAMPLES here</p>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.mixture_model">
<code class="sig-name descname">mixture_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">K</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">iterations</span><span class="o">=</span><span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.mixture_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.mixture_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishing Technique to assemble a final, hard parition of the data according to maximizing the likelihood according to the
observed clustering solutions across the ensemble. This will operate on all clustering solutions contained in the container cluster class.
Operates on entire ensemble of clustering solutions in self, to create a mixture model
See finishing.mixture_model for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>K: int</strong></dt><dd><p>number of clusters to create. Default K=2</p>
</dd>
<dt><strong>iterations: int</strong></dt><dd><p>number of iterations of EM algorithm to perform. Default iterations=10</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>c: openensembles clustering object</dt><dd><p>a new clustering object with c.labels[‘mixture_model’] set to the final solution.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError:</dt><dd><p>If there are not at least two clustering solutions</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<p>Topchy, Jain, and Punch, “A mixture model for clustering ensembles Proc. SIAM Int. Conf. Data Mining (2004)”</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cMM</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">mixture_model</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">plot_data</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">,</span> <span class="n">cluster_labels</span><span class="o">=</span><span class="n">cMM</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="s1">&#39;mixture_model&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.search_field">
<code class="sig-name descname">search_field</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">field</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.search_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.search_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Find solutions that were made with</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>field: string {‘algorithm’, ‘data_source’, ‘K’, ‘linkage’, ‘distance’, ‘clusterNumber’, etc.}</strong></dt><dd><p>The name of field, either in algorithm used, data_source selected, or a parameter passed to search for an exact value</p>
</dd>
<dt><strong>value: string or int</strong></dt><dd><p>The value to search for (where ints are passed for K (desired clusters) or clusterNumber (actual returned clusters))</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>names: list of strings</dt><dd><p>The names of dictionary entries in clustering solutions matching field, value criteria. Returns empty list if nothing was found</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the field was not recognized.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Find all clustering solutions where K=2 was used
&gt;&gt;&gt; names = c.search_field(‘K’, 2)</p>
<p>Find all clustering solutions where the actual cluster numbers were 2
&gt;&gt;&gt; names = c.search_field(‘clusterNumber’, 2)</p>
<p>Find all solutions clustered using kmeans
&gt;&gt;&gt; names = c.search_field(‘algorithm’, ‘kmeans’)</p>
<p>Find all clustering solutions where ward linkage was used
&gt;&gt;&gt; names = c.search_field(‘linkage’, ‘ward’)</p>
</dd></dl>

<dl class="py method">
<dt id="openensembles.cluster.slice">
<code class="sig-name descname">slice</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#cluster.slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.cluster.slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new cluster object containing a slice indicated by the list of names given (dictionary keys shared amongst labels, params, etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>names: list</strong></dt><dd><p>A list of strings matching the names to keep in the new slice</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>c: an openensembles clustering object</dt><dd><p>A oe.cluster object that contains only those names passed in</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If a name in the list of names does not exist in cluster object</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Get only the solutions made by agglomerative clustering</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">names</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">search_field</span><span class="p">(</span><span class="s1">&#39;algorithm&#39;</span><span class="p">,</span> <span class="s1">&#39;agglomerative&#39;</span><span class="p">)</span> <span class="c1">#return all solutions with agglomerative</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cNew</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
<p>Get only the solutions that were made with K=2 calls</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">names</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">search_field</span><span class="p">(</span><span class="s1">&#39;K&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">#return all solution names that used K=2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cNew</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-validation-class">
<h2>The “validation” class<a class="headerlink" href="#the-validation-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="openensembles.validation">
<em class="property">class </em><code class="sig-prename descclassname">openensembles.</code><code class="sig-name descname">validation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataObj</span></em>, <em class="sig-param"><span class="n">cObj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.validation" title="Permalink to this definition">¶</a></dt>
<dd><p>validation is a class to calculate any number of validation metrics on clustering solutions in data. 
An individual validation metric must be called on a particular instantiation of the data matrix (like ‘parent’ or ‘zscore’)
and a specific solution in cObj.</p>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#openensembles.validation.calculate" title="openensembles.validation.calculate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="openensembles.validation.calculate">
<code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">validation_name</span></em>, <em class="sig-param"><span class="n">cluster_name</span></em>, <em class="sig-param"><span class="n">source_name</span><span class="o">=</span><span class="default_value">'parent'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#validation.calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.validation.calculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the function titled by validation_name on the data matrix set by source_name (default ‘parent’) and clustering solution by cluster_name
Appends to validation with key value equal to the validation_name+source_name+cluster_name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>output_name: str</dt><dd><p>The handle name for accessing validation results</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="openensembles.validation.merge">
<code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">v_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#validation.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.validation.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an appended object – a merge of the validation object (self) and all validation objects inside a passed list. 
This will keep the dataobject and clusterObjects of the self validation object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>v_list: list</strong></dt><dd><p>A list of validation objects</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>transDictArr: list of dicts</dt><dd><p>A list of dictionary translation of new labels in merged object, with original labels. List order is same as those passed in</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If objects in v_list are not well formed value objects</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Merge two sets of validation objects</p>
<p>FINISH EXAMPLES here</p>
</dd></dl>

<dl class="py method">
<dt id="openensembles.validation.validation_metrics_available">
<code class="sig-name descname">validation_metrics_available</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/openensembles/openensembles.html#validation.validation_metrics_available"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#openensembles.validation.validation_metrics_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all available validation metrics</p>
</dd></dl>

</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">OpenEnsembles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-data-class">The “data” class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-cluster-class">The “cluster” class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-validation-class">The “validation” class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Supporting.html">Supporting Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples/Examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">OpenEnsembles</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Supporting.html"
                        title="next chapter">Supporting Code</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/OpenEnsembles.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Supporting.html" title="Supporting Code"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="OpenEnsembles"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OpenEnsembles 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">OpenEnsembles</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Naegle Lab.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>